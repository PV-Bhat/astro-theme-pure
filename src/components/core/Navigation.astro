---
interface Props {
  class?: string;
}

// Navigation.astro
import '../../styles/glass.css';
import GradientButton from './GradientButton.astro';
import config from '../../site.config';

const { class: className } = Astro.props;
---

<navigation-component class={`fixed top-0 left-1/2 -translate-x-1/2 w-[95%] max-w-screen-xl z-50 group ${className || ''}`}>
  <header class="glass rounded-full mt-4 transition-all duration-300 group-[.not-top]:shadow-glow">
    <nav class="px-8 py-3.5 transition-all duration-300 group-[.not-top]:py-2.5">
      <div class="flex items-center justify-between">
        <!-- Logo/Favicon -->
        <a href="/" class="flex items-center gap-2 transition-all duration-300 hover-lift">
          <img src="/favicon/favicon-32x32.png" alt="Site Logo" width="32" height="32" class="w-8 h-8">
        </a>

        <!-- Desktop Navigation -->
        <div class="hidden lg:flex lg:items-center lg:gap-12 transition-all duration-300 group-[.not-top]:gap-8">
          
          
          <!-- Navigation Links -->
          <a href="/about" class="text-gray-200 hover:text-white transition-colors nav-link-oval">
            <span>About</span>
            <span class="hover-oval"></span>
          </a>
          <a href="/blog" class="text-gray-200 hover:text-white transition-colors nav-link-oval">
            <span>Blog</span>
            <span class="hover-oval"></span>
          </a>
          <a href="/projects" class="text-gray-200 hover:text-white transition-colors nav-link-oval">
            <span>Projects</span>
            <span class="hover-oval"></span>
          </a>
          
          <!-- Links Button (Icon only) -->
          <a href="/links" class="text-gray-200 hover:text-white transition-colors nav-link-oval" title="Links">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1" />
            </svg>
            <span class="hover-oval"></span>
          </a>
          
          <!-- All Pages Dropdown -->
          <div class="relative group/dropdown">
            <button class="flex items-center gap-1 text-gray-200 hover:text-white transition-colors nav-link-oval">
              All Pages
              <svg 
                class="h-4 w-4 transition-transform group-hover/dropdown:rotate-180" 
                fill="none" 
                stroke="currentColor" 
                viewBox="0 0 24 24"
              >
                <path 
                  stroke-linecap="round" 
                  stroke-linejoin="round" 
                  stroke-width="2" 
                  d="M19 9l-7 7-7-7"
                />
              </svg>
              <span class="hover-oval"></span>
            </button>
          
            <!-- Mega Menu Dropdown -->
            <div class="invisible opacity-0 group-hover/dropdown:visible group-hover/dropdown:opacity-100 absolute top-full left-0 lg:left-1/2 lg:-translate-x-1/2 w-[90vw] max-w-4xl mt-3 transition-all duration-300">
              <div class="relative">
                <!-- Backdrop and overlay -->
                <div class="absolute inset-0 rounded-2xl glass border border-white/10"></div>
                
                <!-- Content -->
                <div class="relative grid grid-cols-1 md:grid-cols-4 gap-6 md:gap-8 p-6 md:p-8 text-gray-200">
                  <!-- Main Pages -->
                  <div>
                    <h3 class="text-sm font-medium uppercase text-gray-400 mb-4">MAIN</h3>
                    <ul class="space-y-3">
                      <li>
                        <a href="/about" class="block hover:text-white transition-colors nav-link-oval">
                          About
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="/blog" class="block hover:text-white transition-colors nav-link-oval">
                          Blog
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="/projects" class="block hover:text-white transition-colors nav-link-oval">
                          Projects
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="/links" class="block hover:text-white transition-colors nav-link-oval">
                          Links
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="/search" class="block hover:text-white transition-colors nav-link-oval">
                          Search
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                    </ul>
                  </div>
                  
                  <!-- Resources -->
                  <div>
                    <h3 class="text-sm font-medium uppercase text-gray-400 mb-4">RESOURCES</h3>
                    <ul class="space-y-3">
                      <li>
                        <a href="/fitness" class="block hover:text-white transition-colors nav-link-oval">
                          Fitness
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="https://hevy.com/user/approxfit" target="_blank" class="block hover:text-white transition-colors nav-link-oval">
                          Hevy Profile
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                      <li>
                        <a href="https://medium.com/@pruthvi-bhat" target="_blank" class="block hover:text-white transition-colors nav-link-oval">
                          Medium
                          <span class="hover-oval"></span>
                        </a>
                      </li>
                    </ul>
                  </div>
                  
                  <!-- Featured Section -->
                  <div class="md:col-span-2 relative">
                    <h3 class="text-sm font-medium uppercase text-gray-400 mb-4">FEATURED</h3>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                      <!-- Featured Projects -->
                      <div class="bg-black border border-[#34D399]/20 rounded-xl p-5">
                        <h4 class="font-medium text-[#34D399] mb-1">Featured Projects</h4>
                        <p class="text-sm text-gray-300 mb-3">Explore my latest projects and experiments</p>
                        
                        <a href="/projects/featured" class="inline-flex items-center text-[#34D399] hover:text-white transition-colors nav-link-oval">
                          <span>View projects</span>
                          <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                          </svg>
                          <span class="hover-oval"></span>
                        </a>
                      </div>
                      
                      <!-- Featured Blog Posts -->
                      <div class="bg-black border border-[#34D399]/20 rounded-xl p-5">
                        <h4 class="font-medium text-[#34D399] mb-1">Featured Articles</h4>
                        <p class="text-sm text-gray-300 mb-3">Read my latest blog posts and insights</p>
                        
                        <a href="/blog/featured" class="inline-flex items-center text-[#34D399] hover:text-white transition-colors nav-link-oval">
                          <span>View articles</span>
                          <svg class="w-4 h-4 ml-1" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
                          </svg>
                          <span class="hover-oval"></span>
                        </a>
                      </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Search Button (Icon only) -->
          <a href="/search" class="text-gray-200 hover:text-white transition-colors nav-link-oval" title="Search">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
            </svg>
            <span class="hover-oval"></span>
          </a>
          
          <!-- Contact Button (Icon only with Dropdown) -->
          <div class="relative group/contact">
            <button class="text-gray-200 hover:text-white transition-colors nav-link-oval" title="Contact">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
              </svg>
              <span class="hover-oval"></span>
            </button>
            
            <!-- Contact Dropdown -->
            <div class="invisible opacity-0 group-hover/contact:visible group-hover/contact:opacity-100 absolute top-full right-0 mt-3 w-64 transition-all duration-300">
              <div class="relative">
                <!-- Backdrop and overlay -->
                <div class="absolute inset-0 rounded-xl glass border border-white/10"></div>
                
                <!-- Content -->
                <div class="relative p-5 text-gray-200">
                  <h3 class="text-sm font-medium uppercase text-gray-400 mb-4">CONTACT</h3>
                  <ul class="space-y-3">
                    <li>
                      <a href="mailto:pruthvi@murst.org" class="flex items-center hover:text-white transition-colors nav-link-oval">
                        <svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                        </svg>
                        <span>Email</span>
                        <span class="hover-oval"></span>
                      </a>
                    </li>
                    <li>
                      <a href="https://linkedin.com/in/pruthvi-bhat-" target="_blank" class="flex items-center hover:text-white transition-colors nav-link-oval">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452z"></path>
                        </svg>
                        <span>LinkedIn</span>
                        <span class="hover-oval"></span>
                      </a>
                    </li>
                    <li>
                      <a href="https://github.com/PV-Bhat" target="_blank" class="flex items-center hover:text-white transition-colors nav-link-oval">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                          <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
                        </svg>
                        <span>GitHub</span>
                        <span class="hover-oval"></span>
                      </a>
                    </li>
                    <li>
                      <a href="https://hevy.com/user/approxfit" target="_blank" class="flex items-center hover:text-white transition-colors nav-link-oval">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4 mr-2" viewBox="0 0 728 620" fill="currentColor">
                          <path fill-rule="evenodd" d="M457.186 329.98c-1.43.085-2.849.146-4.269.149-3.441-.003-6.687-.275-10.18-1.006-12.212-2.682-24.335-7.062-36.52-10.592-11.124-3.207-25.472-6.12-35.89-11.046-4.59-2.174-8.635-5.576-12.248-9.052-.562-.563-1.123-1.127-1.67-1.703-.555-.583-1.091-1.178-1.607-1.785-.517-.608-1.013-1.226-1.488-1.854-.476-.628-.93-1.266-1.363-1.913-.432-.648-.842-1.304-1.232-1.97-.39-.666-.759-1.339-1.105-2.019-.347-.68-.672-1.368-.976-2.061-.304-.694-.586-1.394-.846-2.1-.26-.705-.499-1.415-.716-2.13-.217-.714-.411-1.432-.583-2.153-.172-.722-.321-1.446-.448-2.173-.127-.727-.231-1.456-.312-2.186-.081-.73-.139-1.461-.173-2.192-.024-.582-.05-1.158-.076-1.734-1.048-7.157-.333-15.557-.31-23.174.02-13.784-.235-27.75 2.102-41.228 5.689-33.44 27.75-46.01 54.74-61.11 10.109-5.705 20.103-11.756 30.22-17.643 9.825-5.618 19.56-10.42 25.67-20.406 5.38-8.83 5.37-17.882 5.34-27.8l.012-21.273c.025-14.94-.103-28.121 10.919-40.159 8.9-10.18 19.819-15.442 33.156-16.31l1.522-.068c3.328-.059 6.336.546 9.908 1.28 8.895 2.067 17.54 5.17 26.346 7.644l25.243 7.253c6.24 1.794 12.644 3.369 18.878 5.91 1.79.761 3.514 1.626 5.185 2.559 1.664.929 3.288 1.928 4.859 2.99 1.57 1.062 3.095 2.186 4.561 3.364 1.18 1.06 2.342 2.152 3.459 3.293 9.77 9.466 13.424 21.418 13.597 35.074.562 41.084.248 82.204.216 123.323l-.082 35.035c-.03 8.142.465 16.73-.828 24.754-1.6 8.744-5.435 16.632-11.669 22.813-1.471 1.5-3.004 2.935-4.594 4.301-1.59 1.367-3.237 2.665-4.934 3.89-1.697 1.226-3.443 2.378-5.231 3.455-1.787 1.076-3.615 2.075-5.477 2.994-10.307 4.691-24.188 7.74-35.47 10.979-11.456 3.29-23.243 7.437-34.59 10.088-3.586.787-7.304 1.257-11.029 1.258-1.11.006-2.22-.052-3.328-.148-1.109-.096-2.215-.242-3.318-.437-1.102-.195-2.2-.438-3.291-.731-1.092-.292-2.178-.633-3.256-.023-1.08-.389-2.15-.829-3.211-1.318-.06-1.06-2.087-1.151-3.081-1.687-.996-.536-1.981-1.124-2.949-1.764-.968-.64-1.92-1.33-2.853-2.072-.933-.741-1.847-1.533-2.739-2.373-13.844-13.882-12.604-30.194-12.623-47.894l.013-28.252c.078-8.667 3.31-14.778 9.512-20.833 3.82-3.678 9.02-7.848 14.783-7.698 3.98.135 7.953 2.307 9.766 5.938 2.282 5.124 1.391 12.746 1.385 18.209l-.054 32.568c-.009 5.617-.463 11.515.256 17.064.299 2.303.824 4.89 2.5 6.511 1.931 1.954 4.462 3.354 7.245 3.264 4.962-.144 10.766-2.549 15.587-3.894l26.787-7.93c7.716-2.271 16.033-4.224 23.608-7.26 1.715-.681 3.364-1.813 4.521-3.151 1.804-2.007 2.046-4.265 2.211-6.756.519-8.452-.007-16.913.014-25.378l.069-55.09l.018-67.229c-.028-9.896.385-19.967-.083-29.858-.146-3.091-.668-5.6-3.235-7.856-1.298-1.113-2.84-1.932-4.388-2.518-8.115-2.968-16.658-5.051-24.99-7.546-7.546-2.269-15.23-4.388-22.75-6.91-4.4-1.477-9.02-3.07-13.588-4.024-1.526-.347-3.037-.651-4.573-.93-2.006-1.058-5.06-.652-5.833.201-7.48 8.267-7.538 16.254-7.51 26.094-.026 13.27.998 28.36-1.14 41.24-3.085 18.654-14.128 35.826-29.703 47.128-7.002 4.948-14.92 8.986-22.23 13.295l-32.376 19.03c-9.61 5.566-19.866 10.498-26.068 19.872-5.613 9.02-5.91 18.4-5.92 28.711l.053 21.271c.042 14.173-.133 28.533-9.317 40.377-8.399 10.423-18.88 15.577-31.532 17.46zM220.49 451.34c-1.013-26.51-.747-57.7-1.182-84.16h32.01c.144 15.143-.143 30.26.255 45.396 12.026.34 24.151.058 36.178.137.369-15.155-.089-30.315-.145-45.47l32.378.001-.083 85.57-.074 24.16c-.027 3.843.523 8.453-.122 12.151-.823.643-1.745.438-2.785.441l-29.362.002c-.423-16.13.306-32.433-.196-48.546-12.106.226-24.217-.226-36.323.15l-.049 48.368c-10.65.387-21.224.106-31.875.139-.4-14.118.038-27.951.065-42.057 0 0 .072-66.81.072-66.81zm178.45 122.04l-.052-122.028 78.554.011c.427 9.003.229 18.056.199 27.137-15.447.211-30.96-.059-46.422.042-.086 9.682-.045 19.366-.014 29.05l39.756-.156-.251 27.257-39.702.09.053 11.3c.003 3.798-.063 7.609.015 11.41l.065 10.202 48.164-.214l-.028 27.128c-8.717.595-17.652.186-26.398.187-17.93-.01-35.862-.066-53.792-.087zm138.84.096l24.842-83.957 7.845-26.59c1.047-3.65 2.331-7.38 3.095-11.11 13.086.067 25.992-.313 39.049.224.428 2.741-16.654 46.354-18.776 50.867-3.153 8.94-4.878 18.636-7.54 27.781-3.83-10.29-5.244-21.488-7.778-32.233-4.681-20.157-9.932-40.333-15.16-60.49-16.87-.22-33.742.105-50.612-.095l-.118.355c3.194 8.954 8.08 17.78 12.021 26.442 1.54 3.268 2.774 6.671 4.265 9.882l12.375 26.875c2.098 4.618 6.262 11.51 7.109 16.286.833 4.592.346 9.862.327 14.544l-.056 27.738l31.733.03c2.339-5.021-.851-34.344 1.181-42.426 1.533-6.195 14-28.352 13.74-31.649 1.652-1.6 22.146-45.308 22.207-46.62.022-.298-.038-.386-.091-.641l-33.506.011c.267 2.275-16.5 47.623-18.47 53.156-3.89-9.74-6.964-19.953-10.295-29.95-2.676-7.658-6.018-15.157-8.17-22.865-11.385-.086-22.72-.293-34.064.122l3.13 43.19c5.56 8.899 10.672 16.842 16.478 25.29 1.523 3.203 3.05 6.498 4.37 9.806.726 1.816.327 3.886.31 5.782-.147.778-.43 1.202-.949 1.704-.328.04-.61.1-.943.033-1.05-.224-1.867-1.017-2.358-1.926-1.126-2.065-1.61-4.318-1.628-6.65-.05-6.096 1.555-12.664 2.835-18.499 4.667-21.615 11.714-42.877 18.29-63.78-3.03 1.584-7.881 5.613-11.493 4.467-.67-.197-1.147-.495-1.448-1.146-.416-.907-.204-2--.084-2.92.506-1.6 1.532-4.098 3.165-4.832.505-.23.374-.145.959.062.426 1.379-1.268 4.003-1.887 5.264 4.101-2.659 11.177-7.33 13.905-11.44 3.027-4.571 6.632-18.35 8.673-24.18 10.133-28.715 20.755-56.9 32.67-84.852 1.677-3.943 4.591-13.155 6.818-16.383.685-.975 2.256-1.743 3.438-1.907 1.172-.167 2.058.102 3.012.766.83 1.422.59 2.33.067 3.86-2.243 6.557-5.74 12.873-8.331 19.308-13.529 32.4-26.069 65.44-37.77 98.717 7.333-15.01 13.417-25.686 18.784-39.68 2.023-6.184 9.67-27.54 11.254-33.8 4.69-9.301 10.812-25.744 15.792-34.427.683-.98 1.537-1.852 2.865-2.343.935-.423 2.416-.58 3.354-.1.788.403 1.304 1.006 1.63 1.85.15.412.254.582.477 1.006.183.904.22.977.125 1.97-1.15 3.861-3.501 7.785-5.09 11.529-2.758 6.172-5.248 12.57-7.963 18.806 3.73-.957 7.391-2.146 11.149-3.034 4.797-9.424 13.044-29.47 20.997-35.098 1.058-.76 2.449-1.39 3.74-1.008 1.08.31 1.94 1.247 2.445 2.23 2.73 5.238-2.071 23.903-3.931 29.403 4.938-.857 20.882-3.664 24.724.217.506.458.735 1.023.629 1.682-.271 1.726-2.092 2.867-3.374 3.85-.96.033-1.493-.004-2.53-.215-.005-.772 1.047-1.387 1.516-2.007.449-.593.423-.715.303-1.387-5.028-1.5-17.24.793-22.775 2.092-5.45 13.702-12.282 26.765-19.32 39.805-4.017 7.483-8.254 16.158-13.9 22.626-1.85 2.152-3.535 3.486-6.104 4.718-1.576 4.252-2.815 8.606-4.1 12.976 4.352-6.899 10.324-17.48 17.476-21.856 1.944-1.194 4.96-2.256 7.275-1.56.978.297 1.672.942 2.136 1.851 2.001 4.102-3.527 20.828-5.009 25.576 2.88-3.127 5.281-6.826 7.907-10.186 4.38-5.595 9.176-10.904 14.047-16.184 1.707-1.863 3.448-4.162 5.513-5.736.98-.813 2.358-.9 3.593-.734.948.128 1.876.377 2.403 1.253.642 1.051.311 2.607.098 3.742-.633 3.36-1.872 6.68-2.917 9.95-1.597 5.002-3.22 9.969-4.476 15.09 8.574-13.39 17.267-27.706 20.605-43.467.457-.55.827-1.001 1.607-1.06.795-.06 1.571.311 2.111.874.718.747.947 1.639.866 2.653-.728 9.48-13.591 37.175-20.69 43.312-2.094 1.813-5.114 3.192-7.935 2.863-.847-.096-1.416-.58-1.88-1.264-3.155-4.68 1.513-16.392 2.645-21.67-3.215 4.8-7.18 9.288-10.932 13.836-2.827 3.578-5.739 7.28-8.996 10.577-1.76 1.884-5.048 4.46-7.753 4.288-.79-.049-1.315-.379-1.797-.969-3.727-4.725 3.002-23.09 4.194-29.138-7.02 7.187-14.885 19.29-19.522 27.934-1.366 2.413-4.78 9.744-6.955 10.882-1.158.621-2.652.7-3.878.28-.647-.22-.998-.44-1.206-1.12-.821-2.461 1.707-8.55 2.395-11.076 5.509-21.3 12.507-42.147 19.772-62.94-5.683 1.74-11.423 3.54-17.117 5.42-2.029 6.238-4.69 12.403-7.071 18.57-17.975 48.978-33.991 98.682-48.87 148.605-3.08 10.052-6.007 20.217-8.558 30.45-1.516 6.112-3.14 12.3-4.304 18.486-.342 2.702-.412 5.483-.856 8.168-.091.628-.156.896-.58 1.361-.307.043-.558.103-.896.035-1.058-.224-1.866-.998-2.358-1.926-1.132-2.074-1.61-4.297-1.629-6.689-.047-6.066 1.555-12.635 2.835-18.47 4.667-21.614 11.653-42.847 18.289-63.78z"/>
                        </svg>
                        <span>Hevy</span>
                        <span class="hover-oval"></span>
                      </a>
                    </li>
                    <li>
                      <a href="https://medium.com/@pruthvi-bhat" target="_blank" class="flex items-center hover:text-white transition-colors nav-link-oval">
                        <svg class="w-4 h-4 mr-2" fill="currentColor" viewBox="0 0 24 24">
                          <path d="M6.15791 4H17.8422C19.034 4 20.0001 4.96612 20.0001 6.15789V9.61314C19.8226 9.65789 19.653 9.71748 19.5077 9.79063C19.1077 9.97583 18.7549 10.2528 18.4614 10.6162C17.9888 11.2018 17.7026 11.9931 17.633 12.8824C17.6181 13.059 17.6132 13.2366 17.6164 13.4138C17.6574 15.1766 18.4959 16.6295 20.0001 16.9647V17.8421C20.0001 19.0339 19.034 20 17.8422 20H6.15791C4.96613 20 4.00001 19.0339 4.00001 17.8421V6.15789C4.00001 4.96612 4.96613 4 6.15791 4ZM21.0001 6.15789C21.0001 4.41384 19.5863 3 17.8422 3H6.15791C4.41385 3 3 4.41384 3 6.15789V17.8421C3 19.5862 4.41385 21 6.15791 21H17.8422C19.5863 21 21.0001 19.5862 21.0001 17.8421V6.15789ZM20.0001 10.298V12.2813H19.3839C19.4227 11.4139 19.6365 10.7014 20.0001 10.298ZM20.0001 12.6621V14.7252C19.5588 14.2117 19.3013 13.4758 19.3474 12.6621H20.0001ZM17.6974 7.30004L17.7116 7.29693V7.18701H14.8128L12.1212 13.5132L9.42956 7.18701H6.30575V7.29693L6.31977 7.30004C6.84888 7.41946 7.11751 7.59757 7.11751 8.23987V15.7595C7.11751 16.4018 6.84784 16.5799 6.31874 16.6993L6.30471 16.7024V16.8127H8.42412V16.7028L8.41011 16.6996C7.88098 16.5802 7.61235 16.4021 7.61235 15.7598V8.67605L11.07 16.8127H11.2661L14.8246 8.44914V15.9455C14.7792 16.4528 14.513 16.6095 14.0339 16.7176L14.0197 16.7209V16.83H17.7116V16.7209L17.6974 16.7176C17.2178 16.6095 16.9452 16.4528 16.8999 15.9455L16.8974 8.23987H16.8999C16.8999 7.59757 17.1685 7.41946 17.6974 7.30004Z" />
                        </svg>
                        <span>Medium</span>
                        <span class="hover-oval"></span>
                      </a>
                    </li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Mobile Menu Toggle -->
        <button class="lg:hidden text-white focus:outline-none" id="mobile-menu-toggle">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16m-7 6h7"></path>
          </svg>
        </button>
      </div>
    </nav>
  </header>
  
  <!-- Mobile Menu - Fixed visibility issues -->
  <div class="lg:hidden glass-dark fixed inset-0 z-40 opacity-0 invisible pointer-events-none transition-all duration-300" id="mobile-menu">
    <div class="h-full flex flex-col p-8">
      <div class="flex justify-between items-center mb-8">
        <a href="/" class="flex items-center">
          <img src="/favicon/favicon-32x32.png" alt="Site Logo" width="32" height="32" class="w-8 h-8">
        </a>
        <button class="text-white focus:outline-none" id="mobile-menu-close">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
          </svg>
        </button>
      </div>
      
      <nav class="flex-1 flex flex-col justify-center space-y-8 text-center">
        <a href="/about" class="text-2xl text-white nav-link-oval inline-block">
          <span>About</span>
          <span class="hover-oval"></span>
        </a>
        <a href="/blog" class="text-2xl text-white nav-link-oval inline-block">
          <span>Blog</span>
          <span class="hover-oval"></span>
        </a>
        <a href="/projects" class="text-2xl text-white nav-link-oval inline-block">
          <span>Projects</span>
          <span class="hover-oval"></span>
        </a>
        <a href="/search" class="text-2xl text-white nav-link-oval inline-block">
          <span>Search</span>
          <span class="hover-oval"></span>
        </a>
        <a href="/fitness" class="text-2xl text-white nav-link-oval inline-block">
          <span>Fitness</span>
          <span class="hover-oval"></span>
        </a>
        <a href="/links" class="text-2xl text-white nav-link-oval inline-block">
          <span>Links</span>
          <span class="hover-oval"></span>
        </a>
      </nav>
      
      <div class="mt-auto pt-8">
        <GradientButton 
          href="mailto:pruthvi@murst.org"
          text="Contact Me"
          primaryColor="52, 211, 153"
          secondaryColor="5, 150, 105"
          showArrow={true}
          class="w-full"
        />
      </div>
    </div>
  </div>
</navigation-component>

<style>
  /* Oval hover effect */
  .nav-link-oval {
    position: relative;
    padding: 0.5rem 0.75rem;
    border-radius: 9999px;
  }
  
  .hover-oval {
    position: absolute;
    inset: 0;
    border-radius: 9999px;
    border: 1px solid transparent;
    transition: all 0.3s ease;
  }
  
  .nav-link-oval:hover .hover-oval {
    border-color: rgba(52, 211, 153, 0.5);
  }
  
  /* Hover underline animation */
  .hover-lift {
    transition: transform 0.3s ease;
  }
  
  .hover-lift:hover {
    transform: translateY(-2px);
  }
  
  .shadow-glow {
    box-shadow: 0 5px 20px -5px rgba(0, 0, 0, 0.3);
  }
</style>

<script>
  class NavigationComponent extends HTMLElement {
    private header: HTMLElement | null;
    private mobileMenuToggle: HTMLElement | null;
    private mobileMenuClose: HTMLElement | null;
    private mobileMenu: HTMLElement | null;

    constructor() {
      super();
      
      // Variables
      this.header = this.querySelector('header');
      this.mobileMenuToggle = this.querySelector('#mobile-menu-toggle');
      this.mobileMenuClose = this.querySelector('#mobile-menu-close');
      this.mobileMenu = this.querySelector('#mobile-menu');
      
      // Initialize
      this.init();
    }
    
    private init(): void {
      // Scroll event for header
      window.addEventListener('scroll', this.handleScroll.bind(this));
      this.handleScroll(); // Initial check
      
      // Mobile menu events
      if (this.mobileMenuToggle && this.mobileMenuClose && this.mobileMenu) {
        this.mobileMenuToggle.addEventListener('click', this.openMobileMenu.bind(this));
        this.mobileMenuClose.addEventListener('click', this.closeMobileMenu.bind(this));
      }
      
      // Ensure each dropdown behaves independently
      const dropdowns = this.querySelectorAll('.group/dropdown, .group/contact');
      dropdowns.forEach(dropdown => {
        const button = dropdown.querySelector('button');
        const menu = dropdown.querySelector('div[class*="invisible"]');
        
        if (button && menu) {
          button.addEventListener('mouseenter', () => {
            menu.classList.add('visible', 'opacity-100');
            menu.classList.remove('invisible', 'opacity-0');
          });
          
          dropdown.addEventListener('mouseleave', () => {
            menu.classList.remove('visible', 'opacity-100');
            menu.classList.add('invisible', 'opacity-0');
          });
        }
      });
    }
    
    private handleScroll(): void {
      if (window.scrollY > 20) {
        this.classList.add('not-top');
      } else {
        this.classList.remove('not-top');
      }
    }
    
    private openMobileMenu(): void {
      if (this.mobileMenu) {
        document.body.style.overflow = 'hidden';
        this.mobileMenu.classList.remove('invisible', 'opacity-0', 'pointer-events-none');
        this.mobileMenu.classList.add('visible', 'opacity-100', 'pointer-events-auto');
      }
    }
    
    private closeMobileMenu(): void {
      if (this.mobileMenu) {
        document.body.style.overflow = '';
        this.mobileMenu.classList.remove('visible', 'opacity-100', 'pointer-events-auto');
        this.mobileMenu.classList.add('invisible', 'opacity-0', 'pointer-events-none');
      }
    }
  }
  
  customElements.define('navigation-component', NavigationComponent);
</script>
